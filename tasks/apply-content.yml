---

- name: "Apply OpenShift Cluster '{{ entry.object }}' - based on individual files"
  command: >
    oc apply -f {{ object.file }}
  with_items:
  - "{{ entry.content | default([]) }}"
  loop_control:
    loop_var: object
  when: 
  - object.file is defined 
  - object.file|trim != ''

- name: "Apply OpenShift Cluster '{{ entry.object }}' - based on directory"
  command: >
    oc apply -f {{ entry.content_dir }}
  when:
  - entry.content_dir is defined 
  - entry.content_dir|trim != ''
